# 1.인터페이스 상세 설계
## 1.내,외부 송 수신
- 내 외부 송/수신을 위해서 연계 방식과 연계 기술, 통신 유형의 선택은 선능을 위한 가장 중요한 요수
## 2.내,외부 송 수신 연결 방식
- 내,외부 송 수신의 연계 방식은 직접 연계 방식과 간접 연계 방식으로 분류
- 직접 연계 방식은 중계 서버나 솔루션을 사용하지 않고 송 수신 시스템과 수신 시스템이 직접 인터페이스 하는 방식
## 3. 내,외부 송 수신 장단점
- 직접 연계 방식
  - 장점
    - 중간 매개체가 없어 연계 처리속도가 빠르고 구현이 단순
    - 개발 비용과 기간이 짧음
  - 단점
    - 송수신 시스템과 수신 시스템 간의 결합도가 높아서 시스템 변경 시 민감
    - 보안을 위한 암/복조화 처리와 비즈니스 로직 구현을 인터페이스별로 작성
    - 전사 시스템 인터페이스에 대한 통합환경 구축이 어려움
- 간접 연계 방식
  - 장점
    - 내,외부 송 수신 및 현활을 모니터링하고 통제하는 연계 서버를 활용하는 방식
    - 서로 다른 네트워크와 프로토콜 등 다양한 환경을 갖는 시스템들을 연계하고 통합 관리할 수 있음
    - 인터페이스 변경 시에도 유연하게 대처가 가능
  - 단점
    - 인터페이스 아키텍처와 연계 절차가 복잡하고 연계 서버로 인한 성능 저하
    - 개발 및 테스트 기간이 직접 연계 방식보다 오래 걸림
## 4. 내,외부 송 수신 연계 기술
- DB 링크
  - 데이터베이스에서 제공하는 DB링크 객체를 이용하는 기술
  - 수신 시스템에서 DB링크를 생성하고 송신 시스템에서 해당 DB 링크를 직접 참조하는 방식
- DB 연결
  - 수신 시스템의 WAS에서 송신 시스템 DB로 연결하는 DB 커넥션 풀을 생성하고 연계 프로그램에서 해당 DB 커넥션 풀명을 이용하는 기술
- API/Open API
  - 송신 시스템의 DB에서 데이터를 읽어서 제공하는 애플리케이션 프로그래밍 인터페이스 프로그램
  - API명,입출력 파라미터 정보가 필요
- JDBC
  - 수신 시스템의 프로그램에서 JDBC 드라이버를 이용하여 송신 시스템 DB와 연결하는 기술
  - DBMS 유형, DBMS 서버 IP와 Port, Db 인스턴스 정보가 필요
- Hyper Link
  - 웹 애플리케이션에서 하이퍼링크 이용하는 기술
- Socket
  - 서버는 통신을 위한 소켓을 생성하여 포트를 할당하고 클라이언트와 통신 요청 시 클라이언트와 연결하고 통신하는 기술
## 5. 내,외부 송 수신 유형
- 실시간
  - 단방향
    - 데이터를 이용하고자 하는 시스템에서 거래를 요청하는 방식
    - 데이터를 전송하는 상대 시스템의 응답이 필요 없는 업무에 사용
    - 실시간 File, 실시간 DB 연계에도 사용
  - 양방향
    - 시스템 간에 거래를 상호 요청하는 방식
    - 데이터를 전송하는 상대 시스템의 응답이 필요한 업무에 사용
  - 동기
    - 데이터 이용하고자 하는 시스템에서 거래 요청을 하고 응답이 올 때까지 대기하는 방식
    - 업무 특성상 응답을 바로 처리해야 하는 거래나 거래량이 적고 상대 시스템의 응답 속도가 빠른 경우 사용
  - 비동기
    - 데이터를 이요하고자 하는 시스템에서 거래를 요청하는 서비스와 응답을 받아 처리하는 서비스가 분리되는 구조
    - 요청을 보내고 다른 작업을 하다가 데이터가 준비되어있다는 신호를 받으면 다시 처리하는 방식
    - 주문 업무와 같이 거래량이 많거나 데이터를 전송하는 시스템의 처리가 오래 걸리는 업무에 사용
  - 지연 처리
    - 비동기, 단방향 유형과 유사 방식
    - 순차 처리 및 지연 처리가 필요한 업무에 사용
- 배치
  - DB/File 거래
    - 정해진 시간에 통신을 수행되는 방식
    - 연계 스케줄러에 의해 구동되는 이벤트 방식과 타이머에 의한 방식이 있음
# 2. 데이터 명세화
## 2.1 데이터 명세화 개념
- 데이터 명세화는 인터페이스 요구사항 분석 과정에서 식별한 연계 정보 그룹에 해당하는 테이블 정의서, 파일 레이이아웃, 코드 정의서 등을 분석하여 필요한 데이터 명세서를 만드는 작업
## 2.2 송,수신 데이터 명세화를 위한 정보 파악
- 인터페이스 요구사항 분석 과정에서 식별한 개체 정의서, 테이블 정의서,코드 정의서를 분석하여 필요한 정보를 파악
  1) 객체 정의서
     - DB 개념 모델링 단계에서 도출한 개체의 타입과 관련 속성, 식별자등의 정보를 개괄적으로 명세화한 정의서
  3) 테이블 정의서
     - 테이블 정의서는 논리 및 물리 모델링 과정에서 작성하는 설계 산출물로 테이블을 구성하는 컬럼들의 특성, 인덱스, 업무 규칙을 정의한 문서
     - 컬럼의 특성은 컬럼명, 데이터 타입, 길이, 널, 키 여부, 디폴트 값등을 의미
  5) 코드 정의서
     - 코드 정의서는 코드에 대한 명명 규칙을 정하고 명명 규칙에 따라 어떠한 코드를 사용할지를 정의한 문서
     - 코드는 전체 데이터베이스에서 `유일하게` 정의된다
## 2.3 송,수신 데이터 명세 작업
- 송,수신 시스템의 테이블 정의서, 파일 레이아웃에서 연계하고자 하는 테이블 또는 파일 단위로 송,수신 데이터 명세서를 작성
- 송수신 데이터 항목의 데이터 타입,길이, 필수 입력 여부 식별자 여부를 정의
- 코드성 데이터 항목에 대해 공통 코드 여부, 코드 값 범위를 정의
- 법률적 근걱와 회사 내부에서 정한 보안 규정을 참고하여 암호화 대상 컬럼을 선정하고, 컬럼이 송수신 데이터에 포함된 경우 암호화 적용 여부를 정의
# 3. 오류 처리 방법 명세화
## 3.1 인터페이스 오류 유형
- 연계 서버 오류
  - 연계 서버의 실행 여부 송수신 전송 형식 변환 등 연계 서버의 가능과 관련된 장애 또는 오류
  - 연계 서버 다운, 송수신 시스템 접속 오류
- 송신 시스템 연계 프로그램 오류
  - 연계 데이터 추출을 위한 데이터베이스 접근 권환 오류 데이터 변환 시 예외 사항 미처리 등으로 인한 연계 프로그램 오류
  - 미등록 코드로 인한 코드 매핑 오류
- 연계 데이터 오류
  - 연계 데이터 값이 유효하지 않음으로 인한 발생하는 오류
  - 일자 데이터 값에 유효하지 않은 일자 값 입력
- 수신 시스템 연계 프로그램 오류
  - 수신 받은 데이터를 운영 데이터베이스에 반영하는 과정에서 접근 권한 문제, 데이터 변환 시 예외 상황 미처리 등으로 인한 연계 프로그램 오류
  - 데이터 등록, 갱신 오류
## 3.2 인터페이스 오류 코드
- 오류코드
  - 오류를 식별 할 수 있는 코드
  - 오류 발생지와 오류 유형 일련번호를 포함하도록 오류 코드 명명규칙을 정의한 후 인터페이스 표준화 지침 가이드 문서로 정리해서 공유
- 오류내용
  - 오류 발생 내용과 원인을 포함하도록 설명을 기술
  - 데이터 에러 네트워크 에러 암호화 복호화 에러 등 오류 발생 원인을 포함하는 메시지를 기술
## 4 인터페이스 설계
### 4.1 인터페이스 도출 목표
- ID
  - 인터페이스를 구분하기 위한 식별자 명명 표준에 맞게 부여
- 명
  - 목정을 나타내는 이름
- 송신 시스템
  - 인터페이스를 통해 데이터를 전송하는 시스템
- 수신 시스템
  - 인터페이스를 통해 전송된 데이터를 이용하는 시스템
- 대내외 구분
  - 인터페이스가 기업 내부 시스템 간 또는 내,외부 시스템 간에 발생하는지 여부
- 연계 방식
  - 웹 서비스 FTP DB링크 소켓등 아키텍처에서 정의한 인터페이스 방식
- 통신 유형
  - 아키텍처에서 정의한 통신 유형
- 처리 유형
  - 실시간 배치, 지연처리 등 인터페이스 처리 유형
  - 처리 유형이 실시간인 경우 수시 나머지는 상세 주기를 표시
- 주기
  - 인터페이스가 발생하는 주기
- 데이터 형식
  - 고정 길이, XML 등 인터페이스 항목의 데이터 포맷
- 관련 요구사항 ID
  - 해당 인터페이스와 관련된 요구사항 식별 정보
### 4.2 인터페이스 정의서 작성
- 인터페이스 ID
  - 인터페이스를 구분하기 위한 시벽자 명명 표준에 맞게 부여
  - 일반적으로 인터페이스 식별 성을 가지고 강화하기 위해 업무 분류 코드와 연속 변호를 같이 활용
- 최대 처리 횟수
  - 단위 시간당 처리될 수 있는 해당 인터페이스 최대 수행 건수
- 데이터 크기(평균/최대)
  - 해당 인터페이스 1회 처리 시 소요되는 데이터의 평균 크기와 최대 크기
- 시스템 정보
  - 시스템 명, 업무명, 서비스명/프로그램 ID, 연계 방식 담당자/연락처
- 데이터 정보
  - 번호, 필드, 식별자, 데이터 타입,크기, 널 허용 여부, 항목 설명, 조간 매핑 규칙 총 길이 추출 조건 SQL
### 4.3 인터페이스 설계 프로세스
1) 양식준비
  - 인터페이스 설계 가이드와 설계서 작성 양식 준비
2) 인터페이스 정보 작성
  - 인터페이스별 필요 송 수신 시스템 작성
  - 대내외 구분 정보 작성
  - 인터페이스 분석 과정에서 도출한 냉ㅇ작성
  - 요구사항 추적 관리 정보 작성
3) 송수신 시스템의 정보 작성
  - 인터페이스 정의서 작성 양식에 맞춰 송수신 시스템의 정보 각각 작성
  - 인터페이스 목록에 있는 정보를 참고하여 기본 정보를 작성하고, 최대 처리 횟수 데이터 크기 등의 추가 정보 작성
4) 프로그램 명세서 확인 및 보안
  - 인터페이스 식별 당시 작성한 서비의 프로그램 명세서를 확인 및 보완
  - 인터페이스 프로그램 정의서의 서비스 프로그램 Id 서비스 프로그램명 관련 인터페이스 정보 입출력 파라미터와 처리 내용 등 인터페이스 구현에 필요한 정보가 제대로 정의되었는지 확인
5) 송수신 데이터 항목 작성
  - 인터페이스 설계서 작성 양식에 맞춰 송수신 데이터 항목 상세를 작성
  - 송수신 데이터의 필드명 식별자 여부를 정의
  - 데이터 타입 길이 필수 입력 여부 필드 설명 공통 코드 여부와 암호화 적용 대상 컬럼 등의 제한 조건 정보를 작성
6) 코드 매핑 정보 작성
  - 송수신 시스탬 간의 코드 변환을 위한 코드 매핑 규칙을 인터페이스 정의서에 작성하고 코드 매핑 시 참고할 수 있도록 코드 매핑테이블을 별도로 작성
7) 인터페이스 설계 내용 검토 및 보완
  - 시스템 인터페이스 목록에 있는 인터페이스 각각에 대한 시스템 인터페이스 정의서의 내용을 검토하여 누락된 내용 또는 보완이 필요한 내용 수정
## 5. 미들웨어 솔루션
### 5.1 미들웨어 개념
- 미들웨어는 컴퓨터와 컴퓨터 간의 연결을 쉽고 안전하게 할 수 있도록 해주고 이에 대한 관리를 도와주는 소프트웨어
- 서로 다른 프로토콜이나 시스템 운영체제, 데이터베이스와 애플리케이션간에 통신을 지원해 주는 소프트웨어를 의미, 애플리케이션이 어떤 정보시스템 환경에서도 작동할 수 있도록 지원해 주는 역할
- 분산 시스템 관점에서의 미들웨어는 위치 투명성을 제공, 여러 컴포넌트가 요구하는 재사용 가능한 서비스의 구현을 제공
### 5.2 미들웨어 솔루션 운영
- DB 미들웨어
  - DB 솔루션 업체에서 제공하는 애플리케이션과 DB 간에 통신을 원활하게 하는 목적
- 원격 프로시저 호출
  - 응용 프로그램의 프로시저를 사용하여 원격 프로시저를 로컬 프로시저처럼 호출하는 방식
- 메시지 지향 미들웨어
  - 메시지 기반의 비동기형 메시지 전달 방식
  - 서로 다른 이기종 분산 DB 시스템의 데이터 동기를 위하여 주로 사용
- 트랜잭션 처리 모니터
  - 온라인 업무에서 트랜잭션을 처리 감시하는 미들웨어
  - 분산 환경의 핵심 기술인 분산 트랜잭션을 처리
  - 주로 사용자가 많고 안정적이면서 즉각적인 처리가 필요한 업무 프로그램의 개발에 많이 사용
- 레거시웨어
  - 기존 애플리케이션이나 DB 기반에 새로운 업데이트된 기능을 덧붙이고자 할 때 사용
- 객체 기반 미들웨어
  - 코바 표준 스펙을 구현한 객체 지향
  - 각기 다양한 기반으로 구축된 컴퓨터 간의 프로그램과 데이터의 교환 및 변환이 편리하게 이루어질 수 있도록 지원
- WAS
  - 서버계층에서 애플리케이션이 동작할 수 있는 환경을 제공하고 안정적인 트랜잭션 처리와 관리, 다른 이기종 시스템과의 애플리케이션 연동을 지원하는 미들웨이
  - WAS는 HTTP 세션 처리를 위한 웹 서버 가능뿐아니라 민감한 기업 업무까지 자바, 컴포넌트 기반으로 구현 가능
### 5.3 웹 서버와 WAS 처리 프로세스
1) 웹 브라우저가 웹 서비에 페이지를 요청
2) 해당 웹서버는 웹브라우저를 요청을 받아서 요청된 페이지의 로직 및 DB와 연동을 해 애플리케이션 서버에 처리를 요청
3) 웹 애플리케이션 서버는 DB와의 연동이 필요하면 DB 와 데이터의 처리를 수행
4) 로직 및 DB 작업의 처리 결과를 웹 서버에 보냄
5) 웹서버는 결과를 다시 웹 브라우저에 응담
### 5.4 EAI와 ESB
1) EAI
- 비지니스 프로세스를 중심으로 기업 내 각종 플랫폼 및 애플리케이션 간의 상호 연동이 가능하도록 통합하는 솔루션
- 애플리케이션들을 통합하여 동일한 플랫폼을 통해 서로 커뮤니케이션하도록 하도록 하는 것을 목적
- 기업이 비즈니스 프로세스를 중심으로 여러 애플리케이션 간의 네트워크를 통합적으로 관리한다는 점에서 기존 미들웨어와 구별
- 비표준 어댑터를 배포하여 통합
2) ESB
- 기업에서 운영되는 서로 다른 플랫폼 및 애플리케이션들간을 연계해서 관리 운영할 수 있도록 서비스 중신의 통합을 지향하는 기술
3) 특징 비교
  - EAI
    - 수행 목적
      - 기업 내부의 이기종 응용 모듈간 통합
    - 토폴로지
      - 허브 앤 스포크 방식의 집중형 토폴로지 구성
    - 통합 형태
      - 애플리케이션 간의 단단한 통합
    - 정용 영역
      - 기업 내부망
  - ESB
    - 수행 목적
      - 기업 간의 서비스 교환을 위해 표준 API로 통합
    - 트폴로지
      - ESB의 분산형 토폴로지 구성
    - 통합 형태
      - 서비스 간의 느슨한 통합
    - 적용 영역
      - 기업 외부 채널망
